{"ast":null,"code":"import _regeneratorRuntime from\"D:/Full TIme/involve.ai/chromeExtension/involve-ai-chrome-extension/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Full TIme/involve.ai/chromeExtension/involve-ai-chrome-extension/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"D:/Full TIme/involve.ai/chromeExtension/involve-ai-chrome-extension/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"D:/Full TIme/involve.ai/chromeExtension/involve-ai-chrome-extension/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useRef}from\"react\";import sendicon from'.././images/sendicon.svg';import{GetDefaultMessages,GetPromptResponseMessage}from\"./Utils\";import{animateScroll}from\"react-scroll\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ChatInterface(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),messageList=_useState2[0],setMessageList=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),newMessage=_useState4[0],setNewMessage=_useState4[1];var messagesEndRef=useRef(null);var divRef=useRef(null);function onChangeDynamicMessageInput(event){setNewMessage(event.target.value);};function sendMessage(){if(!newMessage){return;}appendNewMessageToList();appendDefaultMessageToList(GetPromptResponseMessage(newMessage));setNewMessage('');setTimeout(function(){scrollToBottom();},0);};function appendNewMessageToList(){setMessageList(function(messageList){return[].concat(_toConsumableArray(messageList),[{content:newMessage,sent:true}]);});};function appendDefaultMessageToList(message){setMessageList(function(messageList){return[].concat(_toConsumableArray(messageList),[{content:message.content,sent:message.sent}]);});};useEffect(function(){function getData(){return _getData.apply(this,arguments);}function _getData(){_getData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var defaultMessages;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return GetDefaultMessages();case 2:defaultMessages=_context.sent;setMessageList(defaultMessages);case 4:case\"end\":return _context.stop();}},_callee);}));return _getData.apply(this,arguments);}getData();},[]);var scrollToBottom=function scrollToBottom(){animateScroll.scrollToBottom({containerId:\"messageBox\"});};return/*#__PURE__*/_jsxs(\"div\",{className:\"chatinterface\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"roomName\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"R2D2 Project\"})}),/*#__PURE__*/_jsx(\"div\",{id:\"messageBox\",className:\"messages\",children:messageList.map(function(message,index){return/*#__PURE__*/_jsx(\"div\",{className:\"message \".concat(message.sent?'sent':'received'),children:message.content},index);})}),/*#__PURE__*/_jsx(\"div\",{ref:divRef}),/*#__PURE__*/_jsxs(\"div\",{className:\"message-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Type your message...\",value:newMessage,onChange:onChangeDynamicMessageInput}),/*#__PURE__*/_jsx(\"button\",{onClick:sendMessage,children:/*#__PURE__*/_jsx(\"img\",{src:sendicon,alt:\"Send\"})})]})]});}export default ChatInterface;","map":{"version":3,"names":["React","useState","useEffect","useRef","sendicon","GetDefaultMessages","GetPromptResponseMessage","animateScroll","jsx","_jsx","jsxs","_jsxs","ChatInterface","_useState","_useState2","_slicedToArray","messageList","setMessageList","_useState3","_useState4","newMessage","setNewMessage","messagesEndRef","divRef","onChangeDynamicMessageInput","event","target","value","sendMessage","appendNewMessageToList","appendDefaultMessageToList","setTimeout","scrollToBottom","concat","_toConsumableArray","content","sent","message","getData","_getData","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","defaultMessages","wrap","_callee$","_context","prev","next","stop","containerId","className","children","id","map","index","ref","type","placeholder","onChange","onClick","src","alt"],"sources":["D:/Full TIme/involve.ai/chromeExtension/involve-ai-chrome-extension/src/components/ChatInterface.js"],"sourcesContent":["import React, { useState, useEffect , useRef} from \"react\";\r\nimport sendicon from '.././images/sendicon.svg';\r\nimport { GetDefaultMessages, GetPromptResponseMessage } from \"./Utils\";\r\nimport { animateScroll } from \"react-scroll\";\r\n\r\nfunction ChatInterface() {\r\n    const [messageList, setMessageList] = useState([]);\r\n    const [newMessage, setNewMessage] = useState('');\r\n    const messagesEndRef = useRef(null)\r\n    const divRef = useRef(null);\r\n    function onChangeDynamicMessageInput(event) {\r\n        setNewMessage(event.target.value);\r\n    };\r\n\r\n    function sendMessage() {\r\n        if (!newMessage) {\r\n            return;\r\n        }\r\n        appendNewMessageToList()\r\n        appendDefaultMessageToList(GetPromptResponseMessage(newMessage))\r\n        setNewMessage('');\r\n        setTimeout(() => {\r\n            scrollToBottom()\r\n          }, 0);\r\n          \r\n        \r\n    };\r\n\r\n    function appendNewMessageToList() {\r\n        setMessageList(messageList => {\r\n            return [...messageList, { content: newMessage, sent: true }];\r\n        });\r\n\r\n    };\r\n\r\n    function appendDefaultMessageToList(message) {\r\n        setMessageList(messageList => {\r\n            return [...messageList, { content: message.content, sent: message.sent }];\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        async function getData() {\r\n            const defaultMessages = await GetDefaultMessages();\r\n            setMessageList(defaultMessages)\r\n        }\r\n\r\n        getData();\r\n\r\n    }, [])\r\n\r\n    const scrollToBottom = () => {\r\n        animateScroll.scrollToBottom({\r\n          containerId: \"messageBox\"\r\n        });\r\n    }\r\n\r\n    \r\n    return (\r\n        <div className=\"chatinterface\">\r\n            <div className=\"roomName\">\r\n                <h1>R2D2 Project</h1>\r\n            </div>\r\n            <div id=\"messageBox\" className=\"messages\">\r\n                {messageList.map((message, index) => (\r\n                    <div\r\n                        key={index}\r\n                        className={`message ${message.sent ? 'sent' : 'received'}`}\r\n                    >\r\n                        {message.content}\r\n                    </div>\r\n                ))}\r\n            </div>\r\n            <div ref={divRef} />\r\n            <div className=\"message-input\">\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Type your message...\"\r\n                    value={newMessage}\r\n                    onChange={onChangeDynamicMessageInput}\r\n                />\r\n                <button onClick={sendMessage}>\r\n                    <img src={sendicon} alt=\"Send\" />\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ChatInterface;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}